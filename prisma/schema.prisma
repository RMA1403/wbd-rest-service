generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Category {
  TECHNOLOGY
  COMEDY
  HORROR
}

model DummyTable {
  description String @unique

  @@map("dummy_table")
}

model PremiumPodcast {
  id_podcast     Int              @id
  title          String?
  url_thumbnail  String?
  description    String?
  category       Category?
  PremiumEpisode PremiumEpisode[]

  @@map("premium_podcasts")
}

model PremiumEpisode {
  id_episode    Int            @id
  title         String?
  description   String?
  url_thumbnail String?
  url_audio     String?
  Podcast       PremiumPodcast @relation(fields: [id_podcast], references: [id_podcast], onDelete: Cascade)
  id_podcast    Int
  Queue         Queue[]

  @@map("premium_episodes")
}

model Queue {
  id_queue   Int
  Episode    PremiumEpisode @relation(fields: [id_episode], references: [id_episode], onDelete: Cascade)
  id_episode Int
  position   Int

  @@id([id_queue, position])
  @@map("queues")
}
